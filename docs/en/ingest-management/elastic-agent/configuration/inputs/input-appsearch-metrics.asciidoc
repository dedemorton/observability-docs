:input-type: appsearch-metrics

[[appsearch-metrics-input]]
== App Search metrics input

Use the `appsearch/metrics` input to collect data from App Search.

[NOTE]
=====
This module does not support collecting data from App Search running on {ecloud}.
=====

//QUESTION: Is there a compatibility statement that we can add here?

Example configuration:

//TODO: Convert this config to correct format for agent.

[source,yaml]
----
metricbeat.modules:
- module: appsearch
  metricsets: ["stats"]
  enabled: true
  period: 10s
  hosts: ["http://localhost:3002"]
  #username: "elastic"
  #password: "changeme"
----

The `appsearch/metrics` input supports the following settings, grouped by category.
Many of these settings have sensible defaults that allow you to run {agent}
with minimal configuration.

<<input-appsearch-metrics-metricset-settings>>::
Available metricsets and their settings.

<<input-appsearch-metrics-standard-settings>>::
Standard settings available to any metrics input.

<<input-appsearch-metrics-standard-http-settings>>::
Standard settings for inputs or metricsets that define the host as an HTTP URL.

//TODO: Add missing agent-related settings.

[[input-appsearch-metrics-metricset-settings]]
=== Metricsets

{agent} provides the following metricset  for fetching 

//Comment this out if there is only one metricset for an input.
// Some metricsets have additional settings that you can specify to alter their
//behavior.

//QUESTION: What does the stats metricset do? There is no real documenation
//in the docs, just the boiler plate left over from the module generator.

[[cols="2*<a"]
|===
| Metricset type | Description and settings

|
[[status-metricset]]
`stats`
|Collects stats from App Search.

|===

[[input-appsearch-metrics-standard-settings]]
=== Standard config settings

Standard config settings available to any metrics input.

[cols="2*<a"]
|===
| Settings | Description

include::input-shared-metrics-settings.asciidoc[tag=enabled-setting]

include::input-shared-metrics-settings.asciidoc[tag=fields-setting]

include::input-shared-metrics-settings.asciidoc[tag=hosts-setting]

//QUESTION: Remove this?
include::input-shared-metrics-settings.asciidoc[tag=index-setting]

include::input-shared-metrics-settings.asciidoc[tag=keep_null-setting]

include::input-shared-metrics-settings.asciidoc[tag=metricsets-setting]

include::input-shared-metrics-settings.asciidoc[tag=period-setting]

include::input-shared-metrics-settings.asciidoc[tag=processors-setting]

include::input-shared-metrics-settings.asciidoc[tag=service.name-setting]

include::input-shared-metrics-settings.asciidoc[tag=tags-setting]

|===

[[input-appsearch-metrics-standard-http-settings]]
=== Standard HTTP settings

Standard settings for inputs or metricsets that define the host as an HTTP URL.

[NOTE]
====
Metricsets that define the host as an HTTP URL can use the standard
schemes for HTTP (`http://` and `https://`) and the following schemes to connect
to local pipes:

* `http+unix://` to connect to UNIX sockets.
* `http+npipe://` to connect to Windows named pipes.
====

[cols="2*<a"]
|===
| Settings | Description

include::input-shared-metrics-settings.asciidoc[tag=basepath-setting]

include::input-shared-metrics-settings.asciidoc[tag=bearer_token_file-setting]

include::input-shared-metrics-settings.asciidoc[tag=connect_timeout-setting]

include::input-shared-metrics-settings.asciidoc[tag=headers-setting]

include::input-shared-metrics-settings.asciidoc[tag=password-setting]

include::input-shared-metrics-settings.asciidoc[tag=query-setting]

include::input-shared-metrics-settings.asciidoc[tag=ssl-setting]

include::input-shared-metrics-settings.asciidoc[tag=timeout-setting]

include::input-shared-metrics-settings.asciidoc[tag=username-setting]

|===

:input-type!: